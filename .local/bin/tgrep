#!/usr/bin/tclsh
if {$argc != 2} {
	error "Usage: tgrep pattern fileName"
}
set f [open [lindex $argv 1] r]
set pat [lindex $argv 0]
while {[gets $f line] >= 0} {
	if [regexp $pat $line] {
		puts $line
	}
}
puts $argv0
close $f
